<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pixel Invaders</title>
  <style>
    body {
      margin: 0;
      background: #000;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    canvas {
      background: #111;
      display: block;
      margin-top: 10px;
    }
    .controls {
      margin-top: 10px;
    }
    button {
      font-size: 20px;
      padding: 10px;
      margin: 0 10px;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="400" height="600"></canvas>
  <div class="controls">
    <button onclick="moveLeft()">‚¨ÖÔ∏è</button>
    <button onclick="shoot()">üí´</button>
    <button onclick="moveRight()">‚û°Ô∏è</button>
  </div>
  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const playerImg = new Image();
    playerImg.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAFkElEQVR4nO2ZbWwUZRDHf9tSwNLjrSn0egQ96AtEK6TdljYmRRtJJKDRFArBRKMEioQXU0U+YaKJIYA25GKKKUrApGqvqDG81UQh+gFquTZWPjSU02p6dy021qNXwVDK+OF6623v2vT2tkUa/8nmdmfnmWfm5j/P7D4L/+O/BWXcZ1AdEiFz7Rr/eU2F6hCv1yter1f6+vqkr69PRESiBhcnpphtENCy4P2qDIvFAqD9jhcSxtX6fQvVIcPpNBLMppc51AqjEjBhdDIXIxT0aBiPYjeOMBqFArgvgxhLHUxkMKavWj6fj0AgoLsOyUJyubwzeqOcUAyjUzREy1S0DJoZTNwZGZ4BANvOAV0GQrJocrMQWyCqQ0LdOnTYtvVGOjcQ6ah8/mCE3EyKTZrObigQi8WCsvoSyupLMBDAtvk3LSPRZBpGkpsAQ4EEAgHkXDFyrjhIlyHKhOTDZZrjw+RmIrb3AtUhJGeY6gA3feDapRw4cEgA9u7dY+hdJdZB4nK5AFj17suasLg0FYC38w6N2dCbLXt4sv9pKisrjfgRgVgMiMvloq6ujg87v9bdKC5NpfmZGiTQT3b3VLKu3Sa7fYCsa7c54tcHd7x4MclL2nkgJ3goM/V+VFd/INu3b4s5sJiffq1WK3RC2oJBAHo8ibjbfx9Rv6pnNwCWxBTuZLYA7aPaN1o7sRS7oqoqJSUl9H76LT2eRHo8iaQtGKTHk8gZz41RB/ceHXEq3b9vtEZiyohID4qShkiPTl5Ttg+AszcGeXXYmPZ9fwBgZyat5akUtf57b4hWAEx0sSPSI4qSpgACMGfjo9SU7cNut8c8uaqqhnyIhknT2c34NyQ8K8cr3uF9VxUSsMPMcyiyJKgUdv1i8Sos05MI/D3AiUa3suPxpWKZnqQZ3N/wU8x+mbNRpgRpVu+sx263s//5ShxXK7B5M/H+tSKok12LzZtJWekeHqt4llZntRZMzrxZGjcs05Pw+W/GHEz8jSglTT451kAiCuUb8qh31o+q39nZSWXlazS6PBzZsZLwTIRgmZ40cYEoKWkCUHusAQVY9JCNnzs8bNqoUvVeVdQx36Sc4uzWCzS6vKj5wUedzcVZEXonGt0TQy1FSZJq2Q7AK1NqaGz8hV/dnZRvKKCl6TpqUXpEZux2O6qq0tzoI6/Qyg8tPgCKVRtiAjMM7WuJDGjn5++8RVGBFYBFi7vIL0zTHI+G5QXzudzio6jABpIAJtWpKRt0XqnlKl4KCzO43PhnVJ2Ojg4AWpu7KSxayHk5SA42FioVMij99yQjcoTd5GAD4AlyUZTVeKUWEPILZkUdFMrQsrwMuCvkYCODuQxKv0HX9TC9ITZfHv2Z60prB3BXu1aYasq8k6azx78dRO/QUxcgBKk1yr5I7jL9IiDcjtcF4J5Ry3wYCmS28wVmNAWP+bIJgKt48VJLwYrZml5opQrH8vxFAHzvXMKgPGVk+qgwFEjWIiExwUNigocfm5txuVyU8oYWTAjResl5Dmo2QmMZlYxjgyl95OLFixGy4dno6uoa81gjMNKIpL6+XnPMarWyfv16nUL56bUA1K05pcly9jxCZvY8zm69AIDD4QgfO6G7KOHQUSH79YfJzJ5HSsYMnGtPBxVE8AErT14B4Lt1uWw5WqrTidMHHYxSS/eqC4MR9xVFwfplu7jW5QJQcrIN9xYnG868FG6D7u5uAUhPT48roPH5zj6ErueyKfzCDUDTuqUAfLbmY5zMBUDklgBcvz76kj0WTJrObjQj0tDQoBNYLBamTZuGEx3/+Sg5mJEM7EACCnMYFCEhrM5S58f/icRwRvx+P36/n7a2Nvx+P01NTbjd7hH1Dh92RJ30DrdIUpLv2aoFIzex4TZ1et3d3dp5vAU+KfEPwV1WrvOIA8cAAAAASUVORK5CYII=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAALQCAYAAAC5V0ecAAAXhElEQVR4nO3Y/6/edX3G8fseN4rKDQIB1tao91EKKwMd9PAlW2bsNIvKzEwVUeIhm3MkRriPnZBtCUu2xOBwIz10E4PTaEmNtIyk0SluC8v2A3TrKZExysCmJxPuUxgZQg5DY6n3/oVd53WHd+7cj8fv1/m87vv0NM98usOFxXEHAAD4f/mF1gcAAMA0EdAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQ6LU+AGBWLR2ea31CU8MtR1ufALAu3kADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAoNf6AIBptXR4rrQf7d9e2vf7/dK+qvr87vyu0n645WhpD7Be3kADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAoNf6AID1Wjo81/T5o/3bS/t+v990D8D6eAMNAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAgV7rA4DptXR4runzR/u3N31+v99vup9244M3lPbd+V2l/XDL0dIemF3eQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAECg1/oAYP2WDs81ff5o//amz+/3+zP9fADa8AYaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAr3WB8AsWzo8V9qP9m+f0CXr0+/3Z/r51HTnd5X2wy1HJ3QJQMYbaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAj0Wh8A02zp8FxpP9q/vbTv9/ulfWvTfv+s687vKu2HW45O6BKAV5c30AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABDotT4AWlo6PFfaj/ZvL+37/X7TPVSMD95Q2nfnd5X2wy1HS3uA9fIGGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAK91gcAs2t1dbW07/f7TfdVrT9/VfX544M3lPbd+V2l/XDL0dIemF3eQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAECg1/oAqFg6PFfaj/ZvL+37/X7T/bTbuHFjab+6ujqhS9an+vub9s9fVf3+xgdvKO2787tK++GWo6U9ML28gQYAgICABgCAgIAGAICAgAYAgICABgCAgIAGAICAgAYAgICABgCAgIAGAICAgAYAgICABgCAgIAGAICAgAYAgICABgCAgIAGAIBAr/UBMMtWV1dL+36/33Tf2qYbjpf2o11rE7pkfarff/XzV0379wewXt5AAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQKDX+gBm29LhudJ+tH97ad/v95vuT7v2v0r70ZdL87Lq5y87vlb8AWdO5IxWxn/7ltK++8H/KF4w5d/fwRtK++78rtJ+uOVoaQ+04w00AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABHqtD4CW+v1+ad9930MTumR9Nn1yrbQfffUtpb3vr+33V3a89vln/vsDZpY30AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABDotT4AWlpbWyvtx9+7srTvvufvS/vWfH811e+v3+/XDjhee35rzb8/YGZ5Aw0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAACBXusDoGLTxx5qfcJU8/3V+P5qfH81Gy/cVNqvPjaa0CUwe7yBBgCAgIAGAICAgAYAgICABgCAgIAGAICAgAYAgICABgCAgIAGAICAgAYAgICABgCAgIAGAICAgAYAgICABgCAgIAGAICAgAYAgECv9QHMuOUba/Pl5Qkdsj7v/Yvfbfr8K7ed1fT5f3bJF5s+n9n2Jw/fVNq/56XfKu137NhR2ne2LJbmq4+Nas8H1s0baAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAj0Wh/AdFvavbO0X15eLu3vueee0v5vnvp+aT/tDn3wrtL+/Wsvlfabn3lNaX/eD39We/6Tx5s+/84Xvljat/b1K99W2r/+gidL+3t/ZVTav+78HaX9jtq8ufOvuKC0f+LAf07oEpg+3kADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAoNf6AKjYsGFD7Qc8VZuf/aYTpf1zT59U2h958r9Le9q6/blhad8/6dTS/pW3P1zadzpPFve0tLa21voEmFreQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAECg1/oApttwYbG037p1a2m/vLxc2j//2U+U9md+7DdK+7PfdKK0f+7pk0r7f3j6xdL+/afXnk/N81+pvQM57c8ndMiMqv7/19rqY6PWJ8DU8gYaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAr3WBzDbxuPnSvtu9+ymz2/tru23NH3+d188UdovTuaMqfXkLf9T2g86p5X2j1x9Vml/xSOleXPd2tfXGS5M5o712njhptJ+9bHRhC6B2eMNNAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAR6rQ9gti1e9/nSfjx+runzf/ytfy/tO9dcXNtfXpu3tvN1P6n9gOLX17m4+g7hlOJ+UNwXnz6oPf/Z4r69ra0PKFl9bNT6BJhZ3kADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAoDtcWBy3PgJm1dLunaX9GddcXNrftf2W0n4wGJT2X7/+86X9Xy3fXtqP12r3d077XmneHV9Q2k/7/ddd+d7Svn/KyaX92k+Pl/Zv3HxVaX/iR98v7aufv+rlc7Y1fT605A00AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABLrDhcVx6yOA9Vm6e2fT5+/bu6+0HwwGpf2t1+4o7e944vrSftPo7aX96H8vL+07m/eU5tX7t2+7qbT/1et/u7R/ZO+XSvv+KSeX9ms/PV7an3/O6aV99RVY9fOvvvByaf/yOdtKe2jJG2gAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAIdIcLi+PWR8CsuuO+PaX9N792f2l/Uqdb2l/90UtK+31795X2tPXUU0+V9jt2/EFpf2D56dL+zs+8q7Tvn3JyaT/tqp//5XO2TegSePV5Aw0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAACBXusDYJrdcd+e0n7P1+6f0CXr85a3biztv/mt5dL+I1dvLe1v/8vbS/tZ94+nfru0/+6OfyrtDyyPSvutl9b+/X71oR+W9p+88rzSftqd9ObfbH0CNOMNNAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAR6rQ+Alu64+69L+y+NP13af/zjv1baHzhwtLRfOfKj0v6aj86X9pvf+kxpv/WKXyzt9+3dV9q3NhgMSvsdW3eU9ocOrJb2l1yyobT/10O151ftPnCktL9xYXEyhwCvOm+gAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAINBrfQC0NB4fb/r8B17509L+ivkNE7pkfebedqy0v/Sysyd0yfoMBoOmz59275w/t7Q/+PBqaX/F/KbSvjOuvUMaLizWng9MLW+gAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAINBrfQCwfqPxntL+ic6otL/sso2l/cEDPy7tZ93KykrT5z9y6JnS/rIr3lzaPzC+rbQ/v7OptH/z3deX9p/5xO+V9kA73kADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAoNf6AKhY2r2ztL+zMyztz+9sKu3f3bmotO9231faj8Z7SvtOZ1xaXzp/evH5s20wGDR9/jsu2Vj7AT+v/fup/v1t7JxZ2p8Yv1TaA9PLG2gAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAI9FofAMyuQwdfbH0CBY8+slL8CT+fyB2tdDuvaX0C0Ig30AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABDotT4AZtlq5/naDxhP5o5Wz790/vSmz6fmoncMWp/Q1Ljzs9YnAI14Aw0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAACBXusDgNl16OCLrU+g4NFHVlqfANCEN9AAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQ6LU+AFp6496F0v4Nb91U2p87f25p3+leW5o/0RmV9qPOntJ+0+VvLO1bW1lZKe0Hg8GELmnjnZfONX3+v+y9oLT/yEcuqR3Qrc2B6eUNNAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAR6rQ+Als6bGxd/wtOl9Q8O1fbLy8ul/datW0v7Bzq3lfajzp7SflPn2tK+ajAYNH1+a9Xf/7bOzaV99e/3B4cOlfat//6GC4ulPbB+3kADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAoNf6AGD9HnzwwdYnTLWVlZXWJ5QcO3as9Qkzzd8fzC5voAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACDQa30AtLSyslLaHzt2rLTfsGFDaX/jjTeW9lXbOjc3ff7V37mqtN/X+UZpf88Hvl3aV51/0y+X9u+/692l/bbfb/v7f/DBB0v71n9/w4XF0h5oxxtoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACHSHC4vj1kdAK0u7d7Y+oWTz5y4s7d+++ZzS/tSNbyjt9171ndK+ajyu/fe3Wnz+u+59tLT/5w9fVNp/6ivbSvtp//1XDRcWW58ANOINNAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAR6rQ+AloYLi6X90u6dpf0Z11xc2nc6J4r76Vb9/S1e99nSfu+HPl3aL3/4otL+1+99vLQ/8qm9pf1H/+53Svuq6u+/6o9u+8Omz7/15i80fT7MMm+gAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAINBrfQDAtDr2oc2l/WX3HSnt/+3Dv1TaV33rA7tL+72dMyd0yfrs/MatTZ//7LMvNn0+sH7eQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAEBAQAMAQEBAAwBAQEADAECg1/oAaGlp987S/v7775/MIY30+/3S/rWvfW1pv7fzndJ+2n319UdK+42dQfGC2juUbueM0v7EeFzaT/sboLPOrX1+oJ1p//8HAABeVQIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAK91gfANHvhhRdK+2PHjpX2GzZsKO0ff/zxps+fddV/Pzt33lHaLy4ulvZV0/4G55XOT0r7z133xxO6BHi1Tfv/XwAA8KoS0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQENAAABAQ0AAAEBDQAAAQ6A4XFsetj4BptbR7Z+sTptpwYbH1CU1N+7+fZ555pvUJJbfe/IXWJwBTyhtoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACHSHC4vj1kcAAMC08AYaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAgIaAAACAhoAAAICGgAAAv8HDmdOneDeu7UAAAAASUVORK5CYII=";

    const player = {
      x: 175,
      y: 520,
      width: 50,
      height: 50,
      speed: 5,
      bullets: []
    };

    const aliens = [];
    for (let i = 0; i < 5; i++) {
      for (let j = 0; j < 6; j++) {
        aliens.push({ x: 50 + j * 50, y: 50 + i * 40, alive: true });
      }
    }

    function drawPlayer() {
      ctx.drawImage(playerImg, player.x, player.y, player.width, player.height);
    }

    function drawAliens() {
      ctx.fillStyle = "lime";
      aliens.forEach(a => {
        if (a.alive) ctx.fillRect(a.x, a.y, 30, 30);
      });
    }

    function drawBullets() {
      const bulletImg = new Image();
    bulletImg.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAiElEQVR4nMWOuwrCQBREZ81PrGBn/j5F/sXCwsZqw4qEQAoJiB6LPPCSBBYCerrdO4cZ6de4tUOMke+3995kZyK8kHbLLc5N+eVEAkbs2yxvc4cnD4wYgEN5VTV8oUaoUeZ6pE5Sp/rWbps6TdiXFwJwLM7AfTZ5VQxAXpwIkCRtmzq2ktj2Hz4a6ktkrnqRYwAAAABJRU5ErkJggg==";

    player.bullets.forEach((b, i) => {
        b.y -= 8;
        ctx.drawImage(bulletImg, b.x, b.y, 14, 14);
        if (b.y < 0) player.bullets.splice(i, 1);
      });
    }

    function detectCollisions() {
      player.bullets.forEach((b, bi) => {
        aliens.forEach((a, ai) => {
          if (
            a.alive &&
            b.x < a.x + 30 &&
            b.x + 5 > a.x &&
            b.y < a.y + 30 &&
            b.y + 10 > a.y
          ) {
            a.alive = false;
            player.bullets.splice(bi, 1);
          }
        });
      });
    }

    function gameLoop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawPlayer();
      drawAliens();
      drawBullets();
      detectCollisions();
      requestAnimationFrame(gameLoop);
    }

    function moveLeft() {
      player.x = Math.max(0, player.x - player.speed);
    }

    function moveRight() {
      player.x = Math.min(canvas.width - player.width, player.x + player.speed);
    }

    function shoot() {
      player.bullets.push({ x: player.x + player.width / 2 - 2.5, y: player.y });
    }

    document.addEventListener("keydown", e => {
      if (e.key === "ArrowLeft") moveLeft();
      if (e.key === "ArrowRight") moveRight();
      if (e.key === " ") shoot();
    });

    playerImg.onload = () => requestAnimationFrame(gameLoop);
  </script>
</body>
</html>
